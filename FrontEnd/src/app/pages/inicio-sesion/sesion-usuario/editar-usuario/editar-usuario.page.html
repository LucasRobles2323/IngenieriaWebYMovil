<app-header [title]="'Cambiar Contraseña'"></app-header>

<ion-content [fullscreen]="true">
    
  <div class="center-content"> 
        
    <form [formGroup]="editForm" class="ion-margin-top ion-padding">
    
      <ion-item>
        <ion-input
          label="Nombre"
          labelPlacement="floating"
          formControlName="nombre"
          type="text"
          placeholder="Luciano Toro"
          [errorText]="formError('nombre')"
          ></ion-input>
      </ion-item>
    
      <ion-item lines="none">
        <ion-input
          label="Correo electrónico"
          labelPlacement="floating"
          formControlName="email"
          type="email"
          placeholder="email@gmail.com"
          [errorText]="formError('email')"
          ></ion-input>
      </ion-item>
      
      <ion-item lines="none">
        <ion-input
          label="Rut"
          labelPlacement="floating"
          formControlName="rut"
          type="text"
          placeholder="27123517-8"
          [errorText]="formError('rut')"
        ></ion-input>
      </ion-item>
      
      <ion-item lines="full">
        <ion-select
          formControlName="region"
          interface="action-sheet"
          labelPlacement="stacked"
          (ionChange)="onRegionChange()"
          >
          <div slot="label">Región <ion-text color="danger">(requerido)</ion-text></div>
          
          <ion-select-option *ngFor="let region of regiones" [value]="region.nombre">
            {{ region.nombre }}
          </ion-select-option>
    
        </ion-select>
      </ion-item>
      
      <ion-item lines="full">
        <ion-select
          formControlName="comuna"
          interface="action-sheet"
          labelPlacement="stacked"
        >
          <div slot="label">Comuna <ion-text color="danger">(requerido)</ion-text></div>
    
          <ion-select-option *ngFor="let comuna of comunas" [value]="comuna">
            {{comuna}}
          </ion-select-option>
    
        </ion-select>
      </ion-item>
    
    </form>
        
    <ion-button 
      class="ion-padding"
      (click)="updateUser()"
      expand="block" 
      type="button"
      [disabled]="!editForm.valid">
      Actualizar Usuario
    </ion-button>

    <ion-button class="ion-padding"
      (click)="goToUser()"
      expand="block" 
      type="button">
      <ion-icon name="log-in-outline"></ion-icon>
      ¿Volver a usuario?
    </ion-button>
        
  </div>
</ion-content>